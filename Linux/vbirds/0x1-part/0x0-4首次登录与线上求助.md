# 第一部分 第四章

## 1、首次登入系统

因为linux是多用户操作系统，所以系统随时都可能有很多不同用户下达任务，这时候的关机是很重要的，因为如果别人正在编辑文件而你关机了，可能会造成数据丢失。  

### GNOME的操作与登出

在每一个用户第一次以图形界面登入系统是，系统都会询问使用者的操作焊接，以一句使用者的国际、语言与区域等制定与系统预设值不同的环境。  

用户登出-并不是关机，只是用户离开系统而已  

### X window与文字模式的切换

我们通常称文字模式为：终端机界面、terminal、console  
Linux预设的情况下回提供六个terminal来让使用者登入  
切换的方式使用：`ctrl + alt + F1-F6`  
系统会将F1-F6命名为tty1-tty6的操作界面环境  

值得注意的是，你在那个tty输入`startx`就会在那个tty内启动X window  

### 在终端登录linux

随便进入一个不是xwindow的tty，会显示如下代码：

```
CentOS Linux 7 (core):		#显示linux distribution额蒙城（centos）与版本
Kernel 3.10.0-299.e17.x86_64 on an x86_64: 		#显示linux的核心版本号和主机的硬件等级为x86_64
study login: #这里的study是主机名，login就是登录了
Password:		#输入密码（这里不会显示任何信息）
Last login: 		#显示上次这个账号登入系统的时间
[dmtsai@study~]$_:	#这里的dmtsai是目前使用的账号，@后面的是主机名，再后面的是当前路径，最后的$是提示字符

Tps：root的提示字符是#；普通用户的提示字符是$
```

强烈建议建立一个普通用户来使用电脑，因为root的权限实在是太大了，

输入exit 当前账号登出系统  

## 2、文字模式下指令的下达

### 开始下达指令

`command [-options] parameter1 parameter2 ...`  
`指令	选项	参数1	参数2	。。。`  

- 0.一行指令中第一个输入的部分绝对是【指令（command）】或【可执行档案（例如批次脚本,script）】  
- 1.command为指令的名称，例如变换工作路径的指令为cd等等  
- 2.中括号【】并不存在与实际的指令中，而加入选项设定时，通常选项前就会带`-`号，例如`h`;有时候会使用选项的完整全名，则玄子昂前带有`--`符号，例如`--help`  
- 3.parameter1 parameter2 ...为衣服在选项后面的参数，或者是command的参数  
- 4.指令，选项，参数等这几个东东中间以空格区分，不论空几格shell都视为一格。**所以空格是很重要的特殊字符！**  
- 5.按下enter键后，该指令就立即执行。**enter按键代表着一行指令的开始启动**  
- 6.指令太长的时候，可以使用反斜杠`\`来跳脱`enter`符号，使指令连续到下一行。**注意：反斜杠后就立刻接特殊最`才可以跳脱** (这个注意感觉有些系统里面有没有都无所谓） 
- 7.其他：
	- 在linux系统中，英文大小写字母是不一样的
	- 更多的需要在第十章bash时才能学到。

**第一个被输入的资料觉对是指令或者是可执行的档案**这是很重要的概念，还有按下Enter键表示要开始执行此一行命令的意思  
在linux环境中**大小写字母是不一样的东西**  

### 语系的支持

`locale`命令可以显示语言语系的输出，咨询的输出使用的语系，时间方面的语系资料，全部的资料同步更新的设定值。。。  
`date`显示时间，可能有乱码，意味命令行界面无法显示中文，所以是乱码  
`LANG=en_US.utf8`  
`ecport LC_ALL=en_US.utf8`  
以上两行为，修改语系为英语系，LANG只和输出信息有关，弱需要更改其他不同的资讯，要同步更新 LC_ALL才行。  

### 基础指令的操作

- 显示日期与时间的指令：date
- 显示日历的指令：cal
- 简单好用的计算机：bc

----

**date**

如果想要在命令行显示linux系统时间，直接输入date即可  
CST是时区，中国东部应该是在CST时区的（不太懂，不深究）  
dae的格式化输出：  

```
date +%Y/%m/%d
2019/11/01
date +%H:%M
19:34
```

从上面的例子中我们可以知道，指令之后的选项除了前面带有减号`-`之外，某些特殊情况下，选项或参数前面也会带有正号`+`的情况。  

----

**cal**

如果我们想要显示当前月份，直接输入cal即可。  

`cal [month] [year]`  

如果我们在month的位置输入13，程序就会报错，所以，某些指令由特殊参数存在，若输入错误的参数，则该指令会有错误信息的提示，透过这个提示我们可以藉以了解指令下达错误之处。  

---- 

简单好用的计算机：bc  

输入bc后就会进入bc界面，当然输入的资料也得要符合bc的要求才行。  

- 几个简单的运算符：
	- + 加法
	- - 减法
	- * 乘法
	- / 除法
	- ^ 指数
	- % 余数

**bc预设近输出整数**如果想要输出小数点下位数，那么就必须要执行`scale=number`，那个number就是小数点位数。  

**quit** 退出  

--- 

从上面的练习，我们大概知道在指令列表模式里面下达指令时，会有两种主要的情况。  
- 一种是该指令会直接显示结果后回到命令提示符等待下一个指令的输入  
- 一种是进入到该指令的环境，知道结束该指令才回到命令指示符的环境。  


### 重要的几个热键[tab],[ctrl]-c,[ctrl]-d

- tab按键
	- 命令补全
	- 档案补全
	- 按下ca ——》 按两下 tab ：显示所有以ca开头的命令

- 【tab】接在一串指令的第一个字的后面，则为【命令补全】
- 【tab】接在遗传指令的第二个字以后时，则为【档案补全】
- 若安装 bash-completion软件，则在某些指令后面使用【tab】按键是，可以进行【选项/参数的补全】功能。  

**善用tab是一个很好的习惯，可以避免很多输入错误的机会**  

--- 

- 【ctrl-c】 按键
	- 终端目前程序（终止目前跑不停的程序）

---

- 【ctrl-d】
	- 键盘输入结束（End Of File，EOF 或 End Of Input）的意思，另外，他可以用来取代`exit`的输入呢。

如果你想要直接离开文字界面，可以直接按下ctrl-d就能够直接离开了（相当于输入exit啊）  

--- 

- 【shift】+【pageup | pagedown】按键
	- 如果你在输入某些指令后，显示的内容很长，但是没有办法看到前面的内容，可以用shift+pageup来往前翻页查看，

### 错误信息的查看

例如：

```
$ DATE
bash: DATE: command not found... 	#这里显示错误信息  
Similar command is: 'date'		#这里给出一个方案，可以试试诶。  
```

**通常出现 command not found 的原因有**：  

- 这个指令不存在，因为软件没有安装。解决方法就是安装软件  
- 这个指令所在的目录目前的用户并没有将它加入指令搜寻路径中，参考bash的PATH说明  
- 很简单，因为你打错字了。



## 3、linux系统的线上求助man page 与 info page

按一个字母g，再按两下tab系统会显示有200多个命令，问是否想要查看。  
所以说linux下的指令实在是太多了，根本就不需要背，背不过来的，所以就用到求助页面了。  

### 3.1 指令的 -help 求助说明

事实上，linux上面的指令，在开发的时候，开发者就将可以使用的指令语法与参数写为指令操作过程中了，你只需要使用 `--help` 这个选项，就能够将该指令的用法做一个大致的理解。  
例如： date --help  

同样的，bc --help的话，虽然有简单的解释，但是没有详细的用法说明，同时也不会有`+-*/`等运算符号（算子）的说明，因此，虽然 --help 已经相当好用，不过通常 --help 用在协助你查询 **你曾经勇敢的指令所具备的选项参数**而已，如果你要使用的是从来没有用过的指令，或者是你要查询的根本就不是指令，而是档案的 格式 时，那就得要通过 man page 了。  

### 3.2 man page 

**man 是 manual（操作说明）的简写**  
使用方法：man + 命令 例如：`man date`

在man page当中需要注意的重点：（以date指令为例）  

- 第一行命令名称后面的数字（例如：DATE(1)）
- NAME：这个指令的完整全名，下面会紧跟简单的用途。
- SYNOPSIS：这个指令的基本语法部分。
- DESCRIPTION：详细说明刚刚语法谈到的选项参数的用法。
- -d，--date ：左边-d为短选项名称，右边--date为完整选项名称
- ENVIRONMENT ： 与这个指令相关的环境参数有如下的说明
- EXAMPLES ： 一堆可用的范本
- DATE STRING ： 上面曾提到的 --date的格式说明。
- AUTHOR ： 这个指令的作者
- COPYRIGHT ： 收到著作权法的保护！用的就是GPL了！
- SEE ALSO ： 这个重要，你还可以从哪里查到与date相关的说明文件

#### 第一行指令后面跟的数字的含义

| 代号 | 代表内容 |
|:----:|:----:|
| 1 | 使用者在shell环境中可以操作的指令或可执行档 |
| 2 | 系统核心可呼叫的函数与工具等 |
| 3 | 一些常用的函数（function）与函数库（library）,大部分为C的函数库（libc） |
| 4 | 装置档案的说明，通常在/dev下的档案 |
| 5 | 设定档案或者是某些档案的格式 |
| 6 | 游戏（games） |
| 7 | 惯例与协定等，例如Linux档案系统、网络协定、ASCII code等等的说明 |
| 8 | 系统管理员可用的管理指令 |
| 9 | 跟kernel有关的文件 |

未来使用man page在查看某些资料时，就会知道该指令/档案所代表的基本意义是什么了。  
最低要求，1、5、8三个的含义背下来。  


#### man page 的几个部分 

| 代号 | 内容说明 |
|:----:|:----:|
| NAME | 简短的指令，资料名称说明 |
| SYNOPSIS | 简短的指令下达语法（syntax）简介 |
| DESCRIPTION | 较为完整的说明，这部分最好仔细看看。 |
| OPTIONS | 针对SYNOPSIS部分中，有列举的所有可用的选项说明 |
| COMMANDS | 当这个程序（软件）在执行的时候，可以在此程序（软件）中下达的指令 |
| FILES | 这个程序或资料所使用或参考或连接到的某些档案 |
| SEE ALSO | 可以参考的，跟这个指令或资料有相关的其他说明 |
| EXAMPLE | 一些可以参考的范例 |

有时候可能还会看到Authors与copyright等，不过也有很多时候仅有NAME和DESCRIPTION等部分。  
**鸟哥查询建议：**  

1. 先查看NAME的选项，简略看一下这个资料的意思；
2. 在详细看一下DESCRIPTION，这个部分会提到很多相关的资料与使用时机，从这个地方**可以学到许多小细节**呢。
3. 而如果这个指令其实很熟悉了（例如上面的date），那么查询的就会关于OPTIONS的部分了！可以知道每个选项的意义，这样就可以下达比较细节的指令内容了。
4. 最后，跟这个资料有关的还有哪些东西可以使用的？距离来说上面的SEE ALSO就告诉我们还可以利用`info coreuils date`来进一步查阅资料；
5. 某些说明内容还会列举有关的档案（FILES部分）来提供我们参考！这些都很有帮助的！




## 4、超简单文书编辑器：nano



## 5、真确的开关机方法：sync、shutdown、reboot、halt、poweroff、systemctl



## 6、重点回顾

