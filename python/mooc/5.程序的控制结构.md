# 第四章 程序的控制结构

## 4.1 程序的分支结构
顺序结构
分之结构
循环结构

方法论方面：python程序的控制语法及结构
实践能力：学会编写带有条件判断及循环的程序

### 程序的控制结构
- 单分支结构
- 二分支结构
- 多分支结构
- 条件判断及组合
- 程序的异常处理

分支结构是根据判断结构而选择不同向前路径的运行方式

### 单分支结构

根据判断条件结果而选择不同向前路径的运行方式

```py
if <条件>:
    <语句块>
```

运行为：判断为True运行语句块，False跳出if，继续执行。

### 二分支结构

根据判断条件结果而选择不同向前路径的运行方式

```py
if <条件>:
    <语句块1>
else:
    <语句块2>
```

运行为：判断条件为True执行语句块1，为False执行语句块2.

- 二分支结构的紧凑形式：适用于简单表达式的二分支结构

```py
<表达式1> if <条件> else <表达式2>
```

例如：

```py
guess = eval(input())
print("猜{}了".format("对" if guess == 99 lese "错"))
```

- 需要注意：紧凑形式可以用非常简洁的代码表达二分支结构，但是if else 所对应的输出不是语句，而是表达式。
所谓的表达式是语句的一部分。
简单理解为：语句我们可以理解为带赋值形式的有等号构成的语句。
但是 if else 不是支持这种带等号的赋值形式，它只支持表达式形式，也就是语句中的一部分，比如：字符串 对 或着字符串 错 它只是语句的一部分，它并没有赋值的过程。

### 多分支结构

多分支结构是根据多个条件，来选择不同语句块运行的一种分支结构，它的典型方式是使用保留字： if elif else

```py
if <条件>:
    <语句块1>
else:
    <语句块2>
    ......
else:
    <语句块N>
```

- 错误代码示例：

```py
score = eval(input())
if score >= 60:
    grade = "D"
elif score >= 70:
    grade = "C"
elif score >= 80:
    grade = "B"
elif score >= 90:
    grade = "A"
print("输入成绩属于级别{}".format(grade))
```

以上仔细分析是错误的，所以：
在多分支结构的问题上，一定要注意：

- 注意多条件之间的包含关系
- 注意变量取值范围的覆盖

以上代码，运行是正确的，但是逻辑是错误的，所以最后输出的结构也将会是错误的。

### 条件判断及组合

操作符

| 操作符 | 数学符号 | 描述 |
|:----:|:----:|:----:|
| < | < | 小于 |
| <= | 小于等于号 | 小于等于 |
| >= | 大于等于号 | 大于等于 |
| > | > | 大于 |
| == | = | 等于 |
| ！= | 不等于号 | 不等于 |


用于条件组合的三个保留字

| 操作符及使用 | 描述 |
|:----:|:----:|
| x and y | 两个条件x和y的逻辑与 |
| x or y | 两个条件x和y的逻辑或 |
| not x | 条件x的逻辑非 |

示例：

```py
guess = eval(input())
if guess > 99 or guess < 99:
    print("猜错了")
else:
    print("才对了")
```

```py
if not True:
    print("语句块2")
else:
    print("语句块1")
# 这样的条件语句是永远不会执行语句块2的，只会执行else部分的语句块1
```

### 程序异常处理

例如：

```py
num = eval(input("请输入一个整数："))
print(num**2)
```

以上代码，当用户输入的是 abc 时，程序就会报错。因为用eval去掉abc两侧的引号后就变成了python中的变量，但是这个变量我们并没有定义，所以就会报错喽。

so python提供了异常处理的相关机制：

有两种非常基本的处理方法：

```py
# 把代码放到语句块1的位置，把异常的时候需要执行的放到语句块2
try:
    <语句块1>  # 如果程序没有异常，将会直接输出结果
except <异常类型>： # 这里的 异常类型 是可选项，只有在这种异常出现时，执行相应的语句块2（标注异常类型后，仅响应该异常；异常类型名字等同于变量，是python程序内部定义的）
    <语句块2>  # 如果语句块1出现了异常，就会执行语句块2
```

- 异常处理的高级使用

```py
try:
    <语句块1>
except:
    <语句块2>
else:
    <语句块3>
finally:
    <语句块4>
```

- 首先执行 try 的 语句块1
- 出现异常时执行 execpt 的 语句块2
- 在不发生异常时，奖励性的执行 else 的 语句块3
- 无论发不发生异常，都将执行 finally 的 语句块4


## 4.2 实例5：身体质量只是BMI


## 4.3 程序的循环结构


## 4.4 模块3：random库的使用


## 4.5 实例6：圆周率的计算


