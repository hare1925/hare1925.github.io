# 第一章 第三节 数据交换技术

## 一、数据交换的概念

计算机网络的根本目的是在网络边缘的主机之间实现相互的数据传输、信息交换。  

一个主机为了同时与其他主机通信，可以选择通过通信链路直接连接所有主机。构成完全网状网络。  
在这种网络中，如果主机数为N，则每个主机需要同时建立（N-1）条链路，整个网络共需要 N(N-1)/2 条链路。  
显然，当N较大时，网络需要的链路数量很大，每个主机需要维护的链路数量也很大。  
这不仅会带来网络建设成本问题，也会带来许多技术问题，例如，主机如何同维护众多通信链路一级如何灵活扩展网络。  
因此，往网络规模较大（即N较大）时，通过通信链路直接连接所有通信终端是不可行的。于是，人们发明了**交换设备**。  

**交换设备** 具有多通信端口，可以同时连接多个通信结点（即主机或交换设备），实现通信端口间物理或逻辑上的动态、并行通信。  
通过交换设备，每个主机只需一个通信链路与交换设备相连，即可实现与其他主机的通信。  

一个交换设备的端口数量是有限的，并且也无法通过一条通信链路直接连接距离遥远的主机或通信设备，因此，只有在特殊情况下，如小规模局域网，才有可能利用一个交换设备直接连接所有主机。  
为了连接更大范围、更多数量的主机，可以将许多交换设备互连，构成一个数据中继与转发的“中间网络”实现中继与转发。  

这个中间网络不需要关心所传输数据的内容，而只是为这些数据从一个结点到另一个结点直到到达目的结点提供数据中继与交换的功能，因此，称之为数据交换网络，组成交换网络的结点（即交换设备）称为**交换结点**。  

**交换结点和传输介质的合集称为通信子网，即网络核心。**  

数据交换是实现在大规模网络核心上进行数据传输的技术基础。常见的数据交换技术包括电路交换(circuit switching)、报文交换(message switching)和分组交换(packet switching)。  

基于不同交换技术构建的网络分别称之为：电路交换网络、报文交换网络和分组交换网络。  

--------

## 二、电路交换

电路交换是最早出现的一种交换方式，距今已有 100 多年的历史，而电话网络则是最早、最大的电路交换网络。  

在电路交换网络中，首先需要通过中间交换结点为两台主机之间建立一条专用的通信线路，称为**电路**，然后再利用该电路进行通信，通信结束后再拆除电路。  
电话网络的电话拨号呼叫过程就是请求建立电路的过程。电路交换网络在建立电路时，为整个回话在眼线所有链路上都预留一个专用信道，传输速率恒定。  
这个通信过程中，交换设备对通信双方的通信内容不做任何干预，即对数据的编码、符号、格式和传输控制顺序等没有影响。  

**利用电路交换进行通信包括：建立电路、传输数据和拆除电路 3 个阶段。**  

### 1、建立电路

传输数据之前，必须建立一条端对端的电路，这个电路建立过程实际上就是一个个交换结点的接续过程。  
需要指出的是，这个电路可能不是通信双方之间直接的连接，而是通过若干个中间交换结点实现的连接。如果两个主机之间需要进行通信，那么发送主机需要先发出呼叫请求信号给接受主机，然后经过若干结点沿途接通一条物理链路后，在由接受主机发出应答信号给发送主机，这样双方之间的电路连接就建立成功了。  
只有电路建立成功之后，才能进入数据传输阶段。  
其中，电路交换的这种“接续”过程所需时间（电路建立时间）的长短与接续的中间交换结点的个数有关。  

电路建立之后在两个主机之间的每一段物理链路上都为双方的通信预留了相应的带宽，这个带宽在双方通信期间将一直保留并独占。  
为了充分利用物理链路的带宽，通常会采用相关的信道复用技术，如频分多路复用、分时多路复用等，将交换节点之间的线路进行信道共享，也就是说在交换结点之间通常包含有“n”条电路，这些电路彼此之间是独立的，每条电路专门为某一对特定主机间的通信服务，而主机到交换结点之间的链路则通常为独占的。  

### 2、传输数据

在电路建立之后，主机之间就可以进行数据传输了。被传输的数据可以是数字数据也可以是模拟数据，数据的传输可以是单工也可以是全双工。  

在发送主机和接收主机之间存在一条“独占”的物理线路为双方的宾词通信服务，这里的“独占”指的是交换节点之间的线路是相对独占的，因为通过信道复用技术对一条物理信道进行信道划分；而主机的交换结点之间的线路往往是绝对独占的。例如，打电话时通话双方均为“占线”状态，而此时可能会有多路通话在交换网络中同时进行。  
在本次通信结束之前，这条“独占”的物理线路上的所有资源不能被其他主机使用，即使某一时刻通信双方并没有数据进行传输。  


### 3、拆除电路

数据传输结束后，要释放（拆除）该物理链路。  
该释放动作可由两个通信主机之间任何一方发起并完成。  
释放信号必须传送到电路所经过的各个结点，以便重新分配资源。  
电路交换方式在传输数据之前需要建立电路，电路建立时间存在延迟。电路建立后即为专用电路，即使没有数据传输也要占用资源，从而造成线路的利用率低。  
在传送数据期间，网络通常不对用户信息进行误码校正等处理，没有任何差错控制措施，不利于可靠性要求高的数据业务。  
但是一旦电路建立，用户就可以使用固定的速率传输数据，传输实时性好。  
中间结点也不对数据进行其他缓冲和处理，不需要添加额外控制信息，即为”透明“传输，因此交换效率高。  

综上所述：电路交换的特点是有连接的，在通信时需要先建立电路连接，在通信过程中独占一个信道，通信结束后拆除电路连接。  
电路交换的优点是：实时性高，时延和时延抖动都较小。  
缺点是：对于突发性数据传输，信道利用率低，且传输速率单一。  

电路交换主要适用于语音和视频这类实时性强的业务。  

--------

## 三、报文交换















