# 第一章 计算机网络概述 第四节 计算机网络性能

任何一个系统都可以或需要不同的指标来度量系统的优劣、状态或特性。计算机网络是综合计算机技术与通信技术的复杂系统，可以通过许多指标对一个计算机网络的整体或局部、全面或部分、静态或动态等不同方面的心梗进行度量与评价。  

## 一、速率与带宽

速率（rate）是计算机网络中最重要的性能指标之一。  

**速率**:指网络单位时间内传送的数据量，泳衣描述网络传输数据的快慢，也称为数据传输速率或数据速率（data rate）。  
计算机网络传输的数据是以位为单位的二进制数据，速率的基本单位是 bit/s （位每秒），因此有时也称速率为**比特率**(bit rate)。  
在描述较高速率时，还常常使用其他速率单位，例如： kbit/s、Mbit/s、Gbit/s、Tbit/s等，其中 1 Tbit/s = 10^3 Gbit/s = 10^6 Mbit/s = 10^9 kbit/s = 10^12 bit/s ，可见，在用于描述速率时，T=10^12, G=10^9, T=10^6, k=10^3。  
通常给出的网络速率是指网络的**额定速率或标称速率**,网络在实际运行时的速率可能并不总能达到额定速率。  

在计算机网络中，有时也会用**“带宽”（bandwidth）**这一术语描述速率。  
**在通信或信号处理领域中**,带宽原本是指信号具有的频带宽度，即信号分成的最高频率与最低频率之差，单位为 Hz（赫兹）。  
一条链路或信道能够不失真的传播电磁信号的最高频率与最低频率之差，称为信道的带宽，单位也是 Hz 。  
在计算机网络中，当描述一条链路或信道的数据传输能力时，经常使用“带宽”一次表示链路或信道的最高数据速率，单位也是 bit/s。  

由于带宽具有不同的含义与单位，所以有时需要明确说明或者跟据上下文判断其具体含义和相关单位。  

--------

## 二、时延

时延（delay）是评价计算机网络性能的另一个重要的性能指标，也称为**延迟**,时延是指：数据从网络中的一个结点（主机或交换设备等）到达另一结点所需要的时间。  
在存储-转发方式的分组交换网络中，每个分组从一个源节点传送到目的结点的过程中，都是受限发送给某个相邻的结点，相邻的结点再发送给其相邻的节点上，然后在“跳到”相邻结点的相邻结点上，直到目的结点。  
因此，计算机网络中，通常将连接两个结点的直接连路称为一个**“跳步”（hop），简称“跳”**。  

推而广之，在存储-转发方式的分组交换网络中，只要分析清楚分组在每一条过程的时延，就可以求得任意情况下，分组从源节点到达目的结点的时延。  


**分组的每跳传输过程主要产生4类时间延迟：结点处理时延（nodal processing delay）、排队时延（queueing delay）、传输时延（transmission delay）和传播时延（propagation delay ）。**

### 1、结点处理时延

每个分组到达交换结点（比如路由器）时，交换设备通常可能需要验证分组是否有差错，根据分组携带的信息（比如目的地址）检索转发表，确定如何转发该分组，还有可能修改分组的部分控制信息等。针对分组进行这些操作所消耗的时间总和，构成了结点处理时延，记为 dc（下角标c）。  
结点处理时延通常很小，并且对不同分组的结点处理时延变化也非常小，因此，在讨论网络总时间延迟时常常被忽略。  

### 2、排队时延

当一个分组到达交换结点，经过处理并明确需要从哪个输出链路进行转发后，分组需要在交换结点内被交换到输出链路，等待从输出链路发送到下一交换结点（或目的主机）。  
此时，在该分组之前很有可能还有其他分组正在或等待交换到相同的输出链路，或者交换到输出链路后在该分组之前还有其他分组在等待通过输出链路进行发送。这些情形都需要分组在交换结点进行暂时缓存（这也是存储-转发概念的由来），排队等待输出链路可用，分组在缓存中排队等待的时间就是排队时延，记为 dq（下角标q）。  

显然，排队时延很不确定：  
1. 也许该分组到达后无需等待任何时间，处理结束后直接通过输出链路进行发送，此时没有排队时延。  
2. 也许该分组之前有很多分组在排队，则该分组的排队时延就会很长。  

### 3、传输时延

当一个分组在输出链路发送时，从发送第一位开始，到发送玩最后一位为止，所用时间，称为**传输时延，也称为发送时延**，记为dt（下角标t）。  
假设分组长度为 Lbit，链路带宽（即速率）为 Rbit/s,则分组的传输时延为： dt（下角标t）= L / R  
显然，分组的传输时延取决于分组长度与链路带宽。类似地，在报文交换网络中，也可以计算在某链路上传输一个报文的传输时延，即 M/R,其中 M(bit)为报文长度。  

### 4、传播时延

分组中的每个比特在发送到物理介质上时，是利用物理信号的某种特征表示的（即编码），比如利用脉冲电信号的高电平表示“1”，低电平表示“0”。  
不同物理信号在不同介质内的传播速度不同，比如真空中的光信号传播速度约为 3×10^8m/s，电信号在同介质中传播速度约为 2×10^8m/s。  
**信号从发送端发送出来，经过一定举例的物理链路到达接收端所需要的时间，称为传播时延，记为 dp（下角标p）。**  
显然若物理链路长度为D（m），信号传播速度为V（m/s)，则传播时延为： dp（下角标p）= D / V  

--------

综上所述，一个分组经过一个跳步所需时间为 dh = dc + dq + dt + dp (后一个字母均为下脚标）。  

如果一个分组从源主机到达目的主机经过 n 个交换结点，即经过的跳步数为（n+1），则该分组从源主机到达目的主机所需时间总和为：所有跳的时延总和（表达式我打不出来）。需要注意的是，不同跳步的时延通常可能是不同的。  

--------

## 三、时延带宽积

**一段物理链路的传播时延与物理链路的乘积，称为时延带宽积，记为 G。**  

于是 G = dp（小角标p） × R  

显然，时延带宽积 G 的单位是 位 。  

**时延带宽积的物理意义在于**:如果将物理链路看作一个传输数据的管道的话，时延带宽积表示一段链路可以容纳的数据位数，也称为以位为单位的链路长度。  

--------

## 四、丢包率

排队时延的大小取决于网络拥塞成都，网络拥塞越严重，平均排队时延就越长，反之就短。  
当网络拥塞特别严重时，新到达的分组甚至已无缓存空间暂存该分组，此时交换结点会丢弃分组，就会发生“丢包”现象。  
课件，网络拥塞是影响网络性能的重要现象或后果，必须加以预防或控制，后续会学习拥塞控制策略与机制。  

**丢包率**：常被用于评价和衡量网络性能的指标，很大程度上可以反映网络的拥塞成都，因为引发网络丢包的主要因素是网络拥塞。  

丢包率 = 丢失分组总数 / 发送分组总数 = （发送分组总数 - 接收分组总数） / 发送分组总数。  

--------

## 五、吞吐量

**吞吐量**（throughput）表示在单位时间内源主机通过网络向目的主机实际送达的数据量，单位为 bit/s 或 B/s (字节每秒),记为Thr。  

吞吐量常用于度量网络的实际数据传送（通过）能力，即网络实际可以达到的源主机到目的主机的数据传送速率。  

吞吐量收网络链路带宽、网络连接复杂性、网络协议、网络拥塞程度等因素影响。  

对于分组交换网络，源主机到目的主机的吞吐量在理想情况下约等于瓶颈链路的带宽。  

如果能够确定两个主机之间的吞吐量，则可以利用吞吐量来计算从一个主机向另一个主机发送一定量数据所需的时间。  



